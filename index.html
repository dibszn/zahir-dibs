<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Custom Tooltip Validation</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
      background: #f5f5f5;
    }

    form {
      max-width: 400px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .form-group {
      margin-bottom: 20px;
      position: relative; /* needed for tooltip positioning */
    }

    label {
      display: block;
      margin-bottom: 6px;
    }

    input {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    button {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background: #113c25;
      color: #fff;
      cursor: pointer;
    }

    /* Tooltip styles */
    .html5tooltip-box {
      background: #113c25;
      color: #fff;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 13px;
      white-space: nowrap;
      transform-origin: top center;
      opacity: 0;
      transform: scale(0.8);
      animation: scalein 0.2s forwards;
    }

    .html5tooltip-arrow {
      position: absolute;
      top: -6px;
      left: 12px;
      width: 0;
      height: 0;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-bottom: 6px solid #113c25;
    }

    @keyframes scalein {
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
  </style>
</head>
<body>
  <form id="bootstrapForm" method="POST" action="..." novalidate>
    <div class="form-group">
      <label for="firstname">First Name</label>
      <input type="text" name="firstname" id="firstname" class="form_input" required>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" name="email" id="email" class="form_input" required>
    </div>

    <div class="form-group">
      <label for="attendance">Attendance</label>
      <select id="attendance" name="attendance" class="form_input" required>
        <option value="" disabled selected>Choose one</option>
        <option value="Yes">Yes, I will be!</option>
        <option value="No">No, I wonâ€™t be attending.</option>
      </select>
    </div>

    <button type="submit">Submit</button>
  </form>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("bootstrapForm");

    function showError(input, message) {
      // Remove existing tooltip
      const oldTooltip = input.parentElement.querySelector(".html5tooltip-box");
      if (oldTooltip) oldTooltip.remove();

      // Tooltip container
      const tooltip = document.createElement("div");
      tooltip.className = "html5tooltip-box scalein-to";
      tooltip.style.position = "absolute";
      tooltip.style.top = input.offsetTop + input.offsetHeight + 6 + "px";
      tooltip.style.left = input.offsetLeft + "px";
      tooltip.style.zIndex = "9999";

      // Tooltip arrow
      const arrow = document.createElement("div");
      arrow.className = "html5tooltip-arrow";

      // Tooltip text
      const text = document.createElement("div");
      text.className = "html5tooltip-text";
      text.textContent = message;

      tooltip.appendChild(arrow);
      tooltip.appendChild(text);
      input.parentElement.appendChild(tooltip);

      // Remove tooltip on input/change
      const removeTooltip = () => tooltip.remove();
      input.addEventListener("input", removeTooltip, { once: true });
      input.addEventListener("change", removeTooltip, { once: true });
    }

    form.addEventListener("submit", (event) => {
      event.preventDefault();
      let valid = true;

      const firstname = form.querySelector("#firstname");
      const email = form.querySelector("#email");
      const attendance = form.querySelector("#attendance");

      if (!firstname.value.trim()) {
        showError(firstname, "Please enter your first name ðŸŒ¸");
        valid = false;
      }

      if (!email.value.trim()) {
        showError(email, "Please enter your email ðŸŒ¸");
        valid = false;
      } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value)) {
        showError(email, "Please enter a valid email ðŸŒ¸");
        valid = false;
      }

      if (!attendance.value.trim()) {
        showError(attendance, "Please select your attendance ðŸŒ¸");
        valid = false;
      }

      if (valid) {
        form.submit();
      }
    });
  });
  </script>
</body>
</html>
